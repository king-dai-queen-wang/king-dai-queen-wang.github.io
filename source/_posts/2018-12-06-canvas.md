---
title: canvas
date: 2018-12-06 16:40:27
tags:
---

## canvas

canvas 画布，默认颜色黑色，宽300px，高150px
```
<canvas width="800" height="400" id="c1"></canvas>

<!-- 可以通过这种方式来设置宽高,比较建议,而不是style来设置换高,通过style设置会拉伸canvas比例 -->

```

* 画方块

```javascript
  // 绘制环境
  let oC = document.querySelector("#c1");
  let oGC = oC.getContext("2d");
  
  oGC.strokeRect(70.5,100.5,50,50);
```
* 画线
```javascript
    let oC = document.querySelector("#c1");
    let ctx = oC.getContext("2d");
    // 开始新的第一条路径
    ctx.beginPath();
    // 规划路线
    ctx.moveTo(10,10);// 移动笔
    ctx.lineTo(10,20);
    ctx.lineTo(20,20);
    // 实际画线，若不写这句则没有线
    ctx.stroke();
    // 开始新的第二条路径
    // ctx.beginPath();！！！
    // 若写fill（），则自动连接头末尾，并且填充默认黑色
    ctx.moveTo(100.5,40.5);
    ctx.lineTo(200.5,40.5);
    // 线样式 设置为红色
    ctx.strokeStyle = '#f00';
    ctx.stroke();
    // 【！！！但结果是我们得到的是两条红线，并不是一黑一红。】
    // 【！！！原因是调用了绘制方法（stroke或者fill），都会以上一次beginPath之后的所有路径为基础进行绘制。】
    // 【！！！如果想得到一黑一红，则要在第二条的时候加上ctx.beginPath();】
```
    * beginPath()
    > 新建一条路径，生成之后，图形绘制命令被指向到路径上生成路径。

    * closePath()(和beginPath半毛钱关系都没有)
    > 闭合路径之后图形绘制命令又重新指向到上下文中。
    
    * stroke()
    > 通过线条来绘制图形轮廓。
    
    * fill()
    > 通过填充路径的内容区域生成实心的图形

* 画矩形
```javascript
    let oC = document.querySelector("#c1");
    let cxt = oC.getContext("2d");
    
    // 以下参数都是（x,y,w,h）
    
    // 画带填充矩形
    cxt.fillRect(25, 25, 100, 100);
    // 清除指定矩形区域
    cxt.clearRect(45, 45, 60, 60);
    // 画边框矩形
    cxt.strokeRect(50, 50, 50, 50);
```
* 画圆
```javascript
    var c=document.getElementById("myCanvas");
    var cxt=c.getContext("2d");
    // fillStyle 设置填充样式，对应fill(),而strokeStyle对应画线样式，对应stroke（）
    cxt.fillStyle="#FF0000";
    cxt.beginPath();
    // 起始点移动到70，18点
    cxt.moveTo(70,18);
    // arc（x,y,r,l起始,l结束,逆true/顺false）
    cxt.arc(70,18,15,Math.PI*0.25,Math.PI*-0.25,false);// 以70，18为圆点，半径15px，从1/4弧长点到3/4处弧长点，顺时针画圆
    // 连接起始点和结束点
    cxt.closePath();
    cxt.fill();
```
## 参考资料

[我的canvas例子-->](https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial/Drawing_shapes)

[MDN的canvas](https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial/Drawing_shapes)